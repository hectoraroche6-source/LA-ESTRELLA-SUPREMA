<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COMBOS LA ESTRELLA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@600;800;900&display=swap');
        
        body { 
            font-family: 'Montserrat', sans-serif; 
            background-color: #f0f9ff; /* Azul muy claro de fondo */
            color: #0c4a6e; /* Azul oscuro para texto */
        }
        
        /* Estilos BOLD pedidos */
        .text-bold-custom { font-weight: 800; }
        
        /* Gradientes y Colores Nuevos */
        .header-bg { background: linear-gradient(to right, #0ea5e9, #22c55e); } /* Azul a Verde */
        .btn-green { background-color: #22c55e; color: white; }
        .btn-blue { background-color: #0ea5e9; color: white; }
        .card-light { 
            background: white; 
            border: 2px solid #e0f2fe; 
            border-radius: 20px; 
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        
        .no-scrollbar::-webkit-scrollbar { display: none; }
        
        /* Animaciones suaves */
        .card-light:active { transform: scale(0.98); border-color: #22c55e; }
    </style>
</head>
<body class="pb-40">

    <!-- CABECERA -->
    <header class="sticky top-0 z-50 header-bg p-6 shadow-lg">
        <div class="max-w-md mx-auto flex flex-col items-center gap-4">
            <div class="flex items-center gap-2 bg-white/20 px-4 py-2 rounded-xl backdrop-blur-sm">
                <i class="fa-solid fa-star text-yellow-300 text-3xl drop-shadow-md"></i>
                <h1 class="text-2xl font-black text-white tracking-wide uppercase drop-shadow-md">LA ESTRELLA</h1>
            </div>
            
            <!-- BUSCADOR -->
            <div class="relative w-full">
                <i class="fa-solid fa-magnifying-glass absolute left-4 top-1/2 -translate-y-1/2 text-sky-600"></i>
                <input type="text" id="mainSearch" onkeyup="buscar()" placeholder="BUSCAR ACEITE, POLLO, CIGARROS..." 
                class="w-full bg-white border-2 border-sky-100 rounded-full py-3 pl-12 pr-4 text-sm font-bold text-sky-900 placeholder-sky-300 focus:outline-none focus:border-green-500 transition-all uppercase shadow-inner">
            </div>
        </div>
    </header>

    <main class="max-w-md mx-auto p-4">
        <!-- BOTONES DE CATEGOR√çA -->
        <div id="catBox" class="flex gap-2 mb-8 overflow-x-auto no-scrollbar py-2">
            <button onclick="filtrar('combos')" class="cat-btn px-6 py-3 rounded-full text-xs font-black uppercase tracking-wider btn-blue shadow-md transform transition active:scale-95">Combos</button>
            <button onclick="filtrar('aseo')" class="cat-btn px-6 py-3 rounded-full text-xs font-black uppercase tracking-wider bg-white text-sky-400 border-2 border-sky-100 shadow-sm">Aseo</button>
            <button onclick="filtrar('extras')" class="cat-btn px-6 py-3 rounded-full text-xs font-black uppercase tracking-wider bg-white text-sky-400 border-2 border-sky-100 shadow-sm">Extras</button>
        </div>

        <!-- LISTA DE PRODUCTOS -->
        <div id="listaProductos" class="grid gap-4">
            <!-- Se llenar√° con JS -->
        </div>

        <!-- SECCI√ìN SUGERIDOS -->
        <div class="mt-12">
            <h2 class="text-sm font-black text-green-600 uppercase tracking-widest mb-4 border-l-4 border-green-500 pl-3">SUGERENCIAS EXTRA</h2>
            <div id="listaSugeridos" class="grid grid-cols-3 gap-2">
                <!-- Se llenar√° con JS -->
            </div>
        </div>

        <!-- GARANT√çA -->
        <div class="mt-12 p-8 rounded-[30px] bg-white border-2 border-sky-100 text-center shadow-lg">
            <i class="fa-solid fa-camera text-sky-500 text-4xl mb-4"></i>
            <p class="text-sm font-black text-sky-700 uppercase tracking-wider">GARANT√çA LA ESTRELLA</p>
            <p class="text-sky-400 text-xs font-bold mt-2">"FOTO DE ENTREGA EN 24-48 HORAS"</p>
        </div>
    </main>

    <!-- CARRITO FLOTANTE -->
    <div id="carritoFlotante" class="fixed bottom-6 left-4 right-4 bg-white border-2 border-green-500 p-5 rounded-[32px] shadow-2xl hidden z-50">
        <div class="flex justify-between items-center mb-3 px-2">
            <span id="cantItems" class="font-black text-xs text-green-600 uppercase tracking-tighter">0 ITEMS</span>
            <span id="precioTotal" class="text-3xl font-black text-sky-900 tracking-tighter">$0.00</span>
        </div>
        <button onclick="enviarWhatsApp()" class="w-full btn-green py-4 rounded-2xl font-black text-sm uppercase flex items-center justify-center gap-3 shadow-lg active:bg-green-600">
            CONFIRMAR PEDIDO <i class="fa-brands fa-whatsapp text-xl"></i>
        </button>
    </div>

    <script>
        // CONFIGURACI√ìN PRINCIPAL
        const TEL = "5358876921"; // Tu n√∫mero

        // BASE DE DATOS COMPLETA (Todo incluido)
        const db = [
            // --- COMBOS (1-10) ---
            { id: 'c1', cat: 'combos', name: 'Combo #1: Esencia Familiar', price: 22.00, desc: '10lb Pollo, 5lb Arroz, 2lb Frijol, 1L Aceite, Pur√© (800g), Caf√© (250g), Picadillo (400g).' },
            { id: 'c2', cat: 'combos', name: 'Combo #2: Estrella B√°sica', price: 38.00, desc: '10lb Pollo, 10lb Arroz, 5lb Frijol, 2L Aceite, 30 Huevos, Detergente (1kg).' },
            { id: 'c3', cat: 'combos', name: 'Combo #3: C√°rnico Especial', price: 48.00, desc: '10lb Cerdo, 10lb Pollo, 5lb Arroz, 2lb Frijol, 1L Aceite, Pur√© (800g).' },
            { id: 'c4', cat: 'combos', name: 'Combo #4: Higiene Total', price: 9.00, desc: '1 Detergente (1kg), 2 Jabones ba√±o, 2 Jabones lavar, 1 Desodorante, 1 Pasta dental.' },
            { id: 'c5', cat: 'combos', name: 'Combo #5: Amanecer', price: 28.00, desc: '30 Huevos, Caf√© (500g), Leche polvo (1kg), Mantequilla (500g).' },
            { id: 'c6', cat: 'combos', name: 'Combo #6: Banquete', price: 65.00, desc: '15lb Pollo, 15lb Arroz, 10lb Frijol, 3L Aceite, 60 Huevos, 2 Pur√©.' },
            { id: 'c7', cat: 'combos', name: 'Combo #7: Ahorro', price: 16.00, desc: '5lb Pollo, 5lb Arroz, 2lb Frijol, 1L Aceite, Picadillo (400g).' },
            { id: 'c8', cat: 'combos', name: 'Combo #8: Agro y Sabor', price: 12.00, desc: '20lb Viandas mixtas, Ajo, Cebolla, Pur√© (800g), Vino Seco.' },
            { id: 'c9', cat: 'combos', name: 'Combo #9: Parrillada', price: 72.00, desc: '20lb Pierna Cerdo, 10lb Carb√≥n, 10lb Yuca, Mojo Criollo.', badge: 'PREMIUM' },
            { id: 'c10', cat: 'combos', name: 'Combo #10: Estrella Suprema', price: 135.00, desc: 'TODO INCLUIDO: Pollo, Cerdo, Arroz, Frijol, Aceite, Aseo y Agro completo.', badge: 'EL REY üëë' },

            // --- EXTRAS / A DISPOSICI√ìN ---
            { id: 'e1', cat: 'extras', name: 'Pollo (1 lb)', price: 1.50, desc: 'Muslo y Encuentro.' },
            { id: 'e2', cat: 'extras', name: 'Carne de Cerdo (1 lb)', price: 3.50, desc: 'Masa limpia o pierna.' },
            { id: 'e3', cat: 'extras', name: 'Arroz (1 lb)', price: 0.60, desc: 'Grano seleccionado.' },
            { id: 'e4', cat: 'extras', name: 'Frijol (1 lb)', price: 1.00, desc: 'Negro o Colorado.' },
            { id: 'e5', cat: 'extras', name: 'Aceite Girasol (1 L)', price: 2.50, desc: 'Botella sellada.' },
            { id: 'e6', cat: 'extras', name: 'Cart√≥n Huevos (30)', price: 4.50, desc: 'Frescos.' },
            { id: 'e7', cat: 'extras', name: 'Pur√© Tomate (800g)', price: 1.80, desc: 'Concentrado.' },
            { id: 'e8', cat: 'extras', name: 'Caf√© (250g)', price: 2.20, desc: 'Aroma fuerte.' },
            { id: 'e9', cat: 'extras', name: 'Picadillo (400g)', price: 1.10, desc: 'Condimentado.' },
            { id: 'e10', cat: 'extras', name: 'Leche en Polvo (1kg)', price: 7.50, desc: 'Entera.' },
            { id: 'e11', cat: 'extras', name: 'Mantequilla (500g)', price: 3.00, desc: 'Con sal.' },
            { id: 'e12', cat: 'extras', name: 'Cigarros H.Upmann', price: 0.93, desc: '450 CUP aprox.' },
            { id: 'e13', cat: 'extras', name: 'Cigarros Selecto', price: 0.82, desc: '400 CUP aprox.' },
            { id: 'e14', cat: 'extras', name: 'Popular Rojo', price: 0.82, desc: '400 CUP aprox.' },

            // --- ASEO ---
            { id: 'a1', cat: 'aseo', name: 'Detergente (1kg)', price: 2.00, desc: 'Multiusos.' },
            { id: 'a2', cat: 'aseo', name: 'Jab√≥n de Ba√±o', price: 0.40, desc: 'Unidad.' },
            { id: 'a3', cat: 'aseo', name: 'Jab√≥n de Lavar', price: 0.50, desc: 'Unidad.' },
            { id: 'a4', cat: 'aseo', name: 'Pasta Dental', price: 1.20, desc: 'Tubo grande.' },
            { id: 'a5', cat: 'aseo', name: 'Desodorante', price: 1.50, desc: 'Barra o Roll-on.' }
        ];

        // SUGERIDOS
        const sugeridos = [
            { name: 'Cerveza Cristal', price: 0.80 },
            { name: 'Refresco (1.5L)', price: 1.20 },
            { name: 'Malta (Lata)', price: 0.90 },
            { name: 'Chorizo Espa√±ol', price: 4.00 },
            { name: 'Caf√© Extra (250g)', price: 2.20 },
            { name: 'Carb√≥n (10lb)', price: 3.00 }
        ];

        let carrito = [];
        let categoriaActual = 'combos';

        function render(busqueda = "") {
            const lista = document.getElementById('listaProductos');
            lista.innerHTML = "";
            
            db.forEach(p => {
                const cumpleFiltro = busqueda 
                    ? (p.name.toLowerCase().includes(busqueda.toLowerCase()) || p.desc.toLowerCase().includes(busqueda.toLowerCase())) 
                    : (p.cat === categoriaActual);
                
                if (cumpleFiltro) {
                    lista.innerHTML += `
                        <div class="card-light relative p-4 flex flex-col justify-between h-full">
                            ${p.badge ? `<span class="absolute top-0 right-0 bg-green-500 text-white text-[10px] font-black px-3 py-1 rounded-bl-xl shadow-sm z-10">${p.badge}</span>` : ''}
                            <div>
                                <div class="flex justify-between items-start mb-2">
                                    <h3 class="font-black text-sky-900 uppercase text-sm leading-tight pr-2">${p.name}</h3>
                                    <span class="text-green-600 font-black text-lg">$${p.price.toFixed(2)}</span>
                                </div>
                                <p class="text-sky-600/70 text-xs font-bold mb-4 uppercase leading-relaxed">${p.desc}</p>
                            </div>
                            <button onclick="agregar(${JSON.stringify(p).replace(/"/g, '&quot;')})" class="w-full py-3 bg-sky-50 rounded-xl text-xs font-black text-sky-600 uppercase border-2 border-sky-100 hover:bg-sky-500 hover:text-white hover:border-sky-500 transition-all active:scale-95 shadow-sm">
                                <i class="fa-solid fa-plus mr-1"></i> A√ëADIR
                            </button>
                        </div>
                    `;
                }
            });
        }

        function renderSugeridos() {
            const sug = document.getElementById('listaSugeridos');
            sug.innerHTML = ""; // Limpiar antes de renderizar
            sugeridos.forEach(s => {
                sug.innerHTML += `
                    <div class="bg-white border-2 border-green-100 p-2 rounded-2xl text-center shadow-sm">
                        <p class="text-[10px] font-black text-sky-800 mb-1 truncate uppercase">${s.name}</p>
                        <p class="text-green-500 text-xs font-black mb-2">$${s.price.toFixed(2)}</p>
                        <button onclick="agregarSug('${s.name}', ${s.price})" class="text-sky-300 hover:text-green-500 transition-colors">
                            <i class="fa-solid fa-circle-plus text-2xl"></i>
                        </button>
                    </div>
                `;
            });
        }

        function filtrar(cat) {
            categoriaActual = cat;
            document.getElementById('mainSearch').value = "";
            
            // Actualizar botones
            document.querySelectorAll('.cat-btn').forEach(btn => {
                btn.className = "cat-btn px-6 py-3 rounded-full text-xs font-black uppercase tracking-wider bg-white text-sky-400 border-2 border-sky-100 shadow-sm transition-all";
                if(btn.innerText.toLowerCase() === cat) {
                    btn.className = "cat-btn px-6 py-3 rounded-full text-xs font-black uppercase tracking-wider btn-blue shadow-md transform scale-105";
                }
            });
            render();
        }

        function buscar() {
            render(document.getElementById('mainSearch').value);
        }

        function agregar(producto) {
            carrito.push(producto);
            actualizarCarrito();
        }

        function agregarSug(name, price) {
            carrito.push({name, price, id: 'sug'+Date.now()});
            actualizarCarrito();
        }

        function actualizarCarrito() {
            const flotante = document.getElementById('carritoFlotante');
            const total = carrito.reduce((a, b) => a + b.price, 0);
            
            document.getElementById('cantItems').innerText = `${carrito.length} ITEMS`;
            document.getElementById('precioTotal').innerText = `$${total.toFixed(2)} USD`;
            
            if (carrito.length > 0) {
                flotante.classList.remove('hidden');
            } else {
                flotante.classList.add('hidden');
            }
        }

        function enviarWhatsApp() {
            let texto = "üåü *NUEVO PEDIDO: LA ESTRELLA*%0A%0A";
            
            // Agrupar items
            const counts = {};
            carrito.forEach(x => { counts[x.name] = (counts[x.name] || 0) + 1; });
            
            for (const [name, count] of Object.entries(counts)) {
                texto += `- (${count}) ${name}%0A`;
            }

            const total = carrito.reduce((a, b) => a + b.price, 0);
            texto += `%0Aüí∞ *TOTAL A PAGAR: $${total.toFixed(2)} USD*`;
            texto += `%0Aüìç *Direcci√≥n de entrega:* `;
            
            window.open(`https://wa.me/${TEL}?text=${texto}`);
        }

        window.onload = () => { render(); renderSugeridos(); };
    </script>
</body>
</html>

